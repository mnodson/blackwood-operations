<section id="services" class="services">
  <div class="container">
    <div class="services-header">
      <h2 class="section-title section-title-centered">Our Expertise</h2>
      <p class="section-subtitle">
        Key milestones on your path to operational excellence â€” explore any that resonate with your needs
      </p>
    </div>

    <div class="services-journey">
      <!-- Winding path SVG -->
      <svg class="journey-path" viewBox="0 0 100 700" preserveAspectRatio="none">
        <path class="path-track" d="M50 0 Q95 50 50 100 Q5 150 50 200 Q95 250 50 300 Q5 350 50 400 Q95 450 50 500 Q5 550 50 600 Q95 650 50 700" />
        <path class="path-progress" d="M50 0 Q95 50 50 100 Q5 150 50 200 Q95 250 50 300 Q5 350 50 400 Q95 450 50 500 Q5 550 50 600 Q95 650 50 700" [style.stroke-dashoffset]="(1 - lineProgress()) * 1000" />
      </svg>

      <div class="milestones-container">
        @for (service of services(); track service.title; let i = $index; let isOdd = $odd) {
          <div
            class="milestone"
            [class.milestone-right]="isOdd"
            [class.visible]="isVisible(i)"
            [attr.data-index]="i">

            <!-- Milestone marker -->
            <div class="milestone-marker">
              <span class="material-symbols-outlined">{{ service.icon }}</span>
            </div>

            <!-- Milestone card -->
            <div class="milestone-card">
              <div class="card-header">
                <div class="card-header-content">
                  <div class="card-highlight">{{ service.highlight }}</div>
                  <h3 class="card-title">{{ service.title }}</h3>
                </div>
              </div>
              <div class="card-body">
                <p class="card-description">{{ service.description }}</p>
              </div>
            </div>
          </div>
        }
      </div>
    </div>
  </div>
</section>
